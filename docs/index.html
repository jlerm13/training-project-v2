<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Athletic Development Training System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- ✅ CSS Path -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="warning-banner">
        Always consult your doctor before starting any exercise program. Sprint and jump training carries inherent risks. Progressive overload and proper recovery are essential.
    </div>

    <div class="container">
        <div class="header">
            <h1>Athletic Development Training System</h1>
            <p>Real athletic training, adapted to your reality</p>
            <p class="subtitle">Sprint • Jump • Throw • Push • Pull • Hinge • Carry</p>
        </div>

        <!-- Welcome Screen -->
        <div id="welcomeScreen">
            <div class="card">
                <h2>Complete Athletic Development System</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px; font-size: 1.1rem;">
                    Complete athletic training that adapts to your space, equipment, and context.
                </p>
                <button class="btn" onclick="startOnboarding()" style="width: 100%; padding: 16px; font-size: 1.1rem;">
                    Get Started - 2 Minutes
                </button>
            </div>
        </div>

        <!-- Progress Tracker -->
        <div id="progressTracker" class="hidden">
            <div class="progress-tracker">
                <div class="progress-step" id="step1"><div class="progress-circle">1</div><div class="progress-label">Experience</div></div>
                <div class="progress-step" id="step2"><div class="progress-circle">2</div><div class="progress-label">Phase</div></div>
                <div class="progress-step" id="step3"><div class="progress-circle">3</div><div class="progress-label">Context</div></div>
                <div class="progress-step" id="step4"><div class="progress-circle">4</div><div class="progress-label">Equipment</div></div>
                <div class="progress-step" id="step5"><div class="progress-circle">5</div><div class="progress-label">Program</div></div>
            </div>
        </div>

        <!-- Screens (Experience, Phase, Context, Equipment) -->
        <div id="experienceScreen" class="hidden"></div>
        <div id="phaseScreen" class="hidden"></div>
        <div id="contextScreen" class="hidden"></div>
        <div id="equipmentScreen" class="hidden"></div>

        <!-- Program Screen -->
        <div id="programScreen" class="hidden">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <h2 id="programTitle">Your Program</h2>
                    <button class="btn btn-secondary" onclick="resetApp()">Start Over</button>
                </div>

                <!-- Program Overview -->
                <div id="programOverview" class="info-box"></div>

                <!-- Template Tabs -->
                <div class="template-selector">
                    <h3>Select Training Week</h3>
                    <div class="template-tabs">
                        <div class="template-tab active" onclick="selectTemplate('4day')">4-Day</div>
                        <div class="template-tab" onclick="selectTemplate('3day')">3-Day</div>
                        <div class="template-tab" onclick="selectTemplate('speed')">With Speed</div>
                        <div class="template-tab" onclick="selectTemplate('inseason')">In-Season</div>
                    </div>
                </div>

                <!-- Week Navigation -->
                <div class="week-navigation">
                    <button class="week-nav-btn" onclick="previousWeek()" id="prevWeekBtn">← Previous</button>
                    <div id="weekDisplay">Week 1</div>
                    <button class="week-nav-btn" onclick="nextWeek()" id="nextWeekBtn">Next →</button>
                </div>

                <!-- Workout Days -->
                <div id="workoutDays"></div>

                <!-- Debug/Error Output -->
                <div id="errorBox" class="info-box hidden" style="color: red; margin-top: 16px;"></div>

                <!-- Guidelines -->
                <div class="info-box" style="margin-top: 24px;">
                    <h4>Important Guidelines</h4>
                    <ul>
                        <li><strong>Warm-Up:</strong> Always warm up 5–15 minutes</li>
                        <li><strong>Max-Effort:</strong> Work up to a heavy set, not a true max</li>
                        <li><strong>Recovery:</strong> Separate similar training days by 48 hrs</li>
                        <li><strong>Indicator Lifts:</strong> Track box squat, bench press, vertical jump, chin-ups</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- ✅ Script Loading - Corrected Order and Paths -->
    <!-- Load the loader FIRST -->
    <script src="./js/exercises/exercise-loader.js"></script>
    
    <!-- Then load exercise modules -->
    <script src="./js/exercises/maxEffortUpper.js"></script>
    <script src="./js/exercises/maxEffortLower.js"></script>
    <script src="./js/exercises/dynamicUpper.js"></script>
    <script src="./js/exercises/dynamicLower.js"></script>
    <script src="./js/exercises/repetitionUpper.js"></script>
    <script src="./js/exercises/assistanceUpper.js"></script>
    <script src="./js/exercises/assistanceLower.js"></script>
    <script src="./js/exercises/coreAndGrip.js"></script>
    <script src="./js/exercises/athletic-movements.js"></script>
    <script src="./js/exercises/conditioning.js"></script>
    
    <!-- Initialize loader AFTER all modules are loaded -->
    <script>
        if (typeof initializeExercises === 'function') {
        initializeExercises();
        } else {
        console.error('❌ initializeExercises not defined - check loader path');
        }
    </script>
    
    <!-- Block Periodization -->
    <script src="./js/blockPeriodization.js"></script>
    
    <!-- Template System -->
    <script src="./js/templates/template-loader.js"></script>
    <script src="./js/templates/white.js"></script>
    <script src="./js/templates/red.js"></script>
    <script src="./js/templates/blue.js"></script>
    <script src="./js/templates/gold.js"></script>
    
    <script>
        if (typeof initializeTemplates === 'function') {
        initializeTemplates();
        } else {
        console.error('❌ initializeTemplates not defined - check template paths');
        }
    </script>
    
    <!-- Main app logic -->
    <script src="./js/app.js" defer></script>
</body>
</html>
