<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Athletic Development Training System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- CSS with cache busting -->
    <link rel="stylesheet" href="css/styles.css?v=2.1.0">
</head>
<body>
    <div class="warning-banner">
        üèóÔ∏è Development Preview - White Tier Templates Available
    </div>

    <div class="container">
        <div class="header">
            <h1>Athletic Development Training System</h1>
            <p>Real athletic training, adapted to your reality</p>
            <p class="subtitle">Sprint ‚Ä¢ Jump ‚Ä¢ Throw ‚Ä¢ Push ‚Ä¢ Pull ‚Ä¢ Hinge ‚Ä¢ Carry</p>
        </div>

        <!-- Welcome Screen -->
        <div id="welcomeScreen">
            <div class="card">
                <h2>Complete Athletic Development System</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px; font-size: 1.1rem;">
                    Complete athletic training that adapts to your space, equipment, and context.
                </p>
                <button class="btn" onclick="startOnboarding()" style="width: 100%; padding: 16px; font-size: 1.1rem;">
                    Get Started - 2 Minutes
                </button>
            </div>
        </div>

        <!-- Progress Tracker - NOW 4 STEPS (removed Context) -->
        <div id="progressTracker" class="hidden">
            <div class="progress-tracker">
                <div class="progress-step" id="step1"><div class="progress-circle">1</div><div class="progress-label">Tier</div></div>
                <div class="progress-step" id="step2"><div class="progress-circle">2</div><div class="progress-label">Phase</div></div>
                <div class="progress-step" id="step3"><div class="progress-circle">3</div><div class="progress-label">Equipment</div></div>
                <div class="progress-step" id="step4"><div class="progress-circle">4</div><div class="progress-label">Program</div></div>
            </div>
        </div>

        <!-- Screens (Tier, Phase, Equipment) - Context REMOVED -->
        <div id="experienceScreen" class="hidden"></div>
        <div id="phaseScreen" class="hidden"></div>
        <div id="equipmentScreen" class="hidden"></div>

        <!-- Program Screen -->
        <div id="programScreen" class="hidden">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <h2 id="programTitle">Your Program</h2>
                    <button class="btn btn-secondary" onclick="resetApp()">Start Over</button>
                </div>

                <!-- Program Overview -->
                <div id="programOverview" class="info-box"></div>

                <!-- Template Tabs - Dynamically generated by app.js -->
                <div class="template-selector">
                    <h3>Select Training Template</h3>
                    <div class="template-tabs">
                        <!-- Tabs populated dynamically based on available data -->
                    </div>
                </div>

                <!-- Week Navigation -->
                <div class="week-navigation">
                    <button class="week-nav-btn" onclick="previousWeek()" id="prevWeekBtn">‚Üê Previous</button>
                    <div id="weekDisplay">Week 1</div>
                    <button class="week-nav-btn" onclick="nextWeek()" id="nextWeekBtn">Next ‚Üí</button>
                </div>

                <!-- Workout Days -->
                <div id="workoutDays"></div>

                <!-- Debug/Error Output -->
                <div id="errorBox" class="info-box hidden" style="color: red; margin-top: 16px;"></div>

                <!-- Guidelines -->
                <div class="info-box" style="margin-top: 24px;">
                    <h4>Important Guidelines</h4>
                    <ul>
                        <li><strong>Warm-Up:</strong> Always warm up 5‚Äì15 minutes</li>
                        <li><strong>Tempo:</strong> White tier uses 3-0-3 or 2-1-2 tempos for learning</li>
                        <li><strong>Recovery:</strong> Separate similar training days by 48 hrs</li>
                        <li><strong>Progression:</strong> Add reps before adding weight</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- 
    =====================================================================
    SCRIPT LOADING ORDER - CRITICAL!
    1. Exercise loader first
    2. Exercise modules 
    3. Block periodization
    4. Template loader
    5. Template modules (white, red, blue, gold)
    6. Main app.js LAST
    
    Cache busting: ?v=2.1.0 forces browsers to reload fresh files
    =====================================================================
    -->
    
    <!-- Load the exercise loader FIRST -->
    <script src="js/exercises/exercise-loader.js?v=2.1.0"></script>
    <script src="js/exercises/whiteTemplateExercises.js?v=2.1.0"></script>
    
    <!-- Then load exercise modules -->
    <script src="js/exercises/maxEffortUpper.js?v=2.1.0"></script>
    <script src="js/exercises/maxEffortLower.js?v=2.1.0"></script>
    <script src="js/exercises/dynamicUpper.js?v=2.1.0"></script>
    <script src="js/exercises/dynamicLower.js?v=2.1.0"></script>
    <script src="js/exercises/repetitionUpper.js?v=2.1.0"></script>
    <script src="js/exercises/assistanceUpper.js?v=2.1.0"></script>
    <script src="js/exercises/assistanceLower.js?v=2.1.0"></script>
    <script src="js/exercises/coreAndGrip.js?v=2.1.0"></script>
    <script src="js/exercises/athletic-movements.js?v=2.1.0"></script>
    <script src="js/exercises/conditioning.js?v=2.1.0"></script>
    
    <!-- Initialize exercise loader AFTER all modules are loaded -->
    <script>
        if (typeof initializeExercises === 'function') {
            initializeExercises();
        } else {
            console.error('‚ùå initializeExercises not defined - check loader path');
        }
    </script>
    
    <!-- Block Periodization -->
    <script src="js/blockPeriodization.js?v=2.1.0"></script>
    
    <!-- Template System -->
    <script src="js/templates/template-loader.js?v=2.1.0"></script>
    <script src="js/templates/earlyOffSeason/white.js?v=2.1.0"></script>
    <script src="js/templates/earlyOffSeason/red.js?v=2.1.0"></script>
    <script src="js/templates/earlyOffSeason/blue.js?v=2.1.0"></script>
    <script src="js/templates/earlyOffSeason/gold.js?v=2.1.0"></script>
    
    <script>
        if (typeof initializeTemplates === 'function') {
            initializeTemplates();
        } else {
            console.error('‚ùå initializeTemplates not defined - check template paths');
        }
    </script>
    
    <!-- Main app logic - MUST BE LAST -->
    <script src="js/app.js?v=2.1.0"></script>
    
    <!-- Version logging -->
    <script>
        console.log('üöÄ Athletic Development App v2.1.0 - Tier System');
    </script>
</body>
</html>
